---
title: "day7_interactive"
format: html
editor: visual
execute: 
  warning: false
---

```{r}
library(tidyverse)
library(palmerpenguins)
```

## Data Wrangling Refresher

-   starting from penguins write a single piped sequence in which you

    -   only include penguins at dream and biscoe islands

    -   remove the year and sex variables

    -   add a new column body_mass_kg with penguin mass converted from g to kg

    -   rename the island variable to location

```{r}
penguins_update <- penguins %>% 
  filter(island %in% c("Dream", "Biscoe")) %>% 
  select(-sex, -year) %>% 
  mutate(body_mass_kg = body_mass_g / 1000) %>% 
  rename(location = island)
  
```

-   starting from penguins

    -   limit to adelie penguins

    -   remove flipper length in mm is na (! is.na) or drop_na

    -   group data by sex

    -   create a summary table that contains the mean, sd, and sample size of flipper lengths for male and female adelie penguins

```{r}
penguins2 <- penguins %>% 
  filter(species == "Adelie") %>% 
  drop_na(flipper_length_mm, sex) %>% 
  group_by(sex) %>% 
  summarize(mean_flipper = mean(flipper_length_mm),
            sd_flipper = sd(flipper_length_mm),
            sample_size = n())

penguins2
  
```

-   counts of observations in the dataset by species, islands, and sex

```{r}
penguins %>% 
  group_by(species, island, sex) %>% 
  summarize(sample_size = n())

#OR

#count is wrapping together group_by + summarize + n() to get counts of observations
penguins %>% 
  count(species, island, sex, name = "sex")
```

## Data pasta through add-ins

```{r}
animals <- data.frame(
  stringsAsFactors = FALSE,
          location = c("lagoon", "bluff", "creek", "oaks", "bluff"),
           species = c("bobcat", "coyote", "fox", "squirrel", "bobcat"),
          maturity = c("adult", "juvenile", "adult", "juvenile", "adult")
)
```

```{r}
sites <- data.frame(
  stringsAsFactors = FALSE,
          location = c("beach", "lagoon", "bluff", "oaks"),
    full_site_name = c("Goleta Beach","UCSB Lagoon",
                       "Ellwood Mesa","Fremont Campground"),
      jurisdiction = c("SB City", "UCSB", "SB City", "USFS")
)
```

## Joining

-   full join

    -   use full_join()

```{r}
full_join_example <- full_join(animals, sites)
```

-   left join

    -   use left_join()

```{r}
left_join_example <- left_join(animals, sites)
```

-   inner join

    -   use inner_join()

```{r}
inner_join_example <- inner_join(animals, sites)
```
